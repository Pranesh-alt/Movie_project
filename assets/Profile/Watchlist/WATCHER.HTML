<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Watchlist</title>
    <link rel="stylesheet" href="WATHER.CSS">
</head>
<body>

<h1>Your Watchlist</h1>
<div id="watchlist"></div>

<script>
     document.addEventListener("DOMContentLoaded", function() {
            displayWatchlist();
        });

        // Function to display watchlist
        function displayWatchlist() {
            const watchlist = JSON.parse(localStorage.getItem("watchlist")) || [];
            const watchlistContainer = document.getElementById("watchlist-container");

            if (watchlist.length === 0) {
                watchlistContainer.innerHTML = "<p>Your watchlist is empty.</p>";
                return;
            }

            // Display the movies in the watchlist
            watchlistContainer.innerHTML = watchlist.map(movie => `
                <div class="movie-card">
                    <img class="movie-image" src="${movie.poster}" alt="${movie.title}">
                    <div class="movie-info">
                        <h2>${movie.title}</h2>
                        <p>Release Date: ${movie.releaseDate}</p>
                        <p>Cast: ${movie.cast.map(castMember => `${castMember.name} as ${castMember.role}`).join(', ')}</p>
                        <p>Crew: ${movie.crew.map(crewMember => `${crewMember.name} (${crewMember.role})`).join(', ')}</p>
                        <button><a href="trial.html?id=${movie.id}" target="_blank" class="watch-movie-btn">Watch Movie</a></button>
                    </div>
                </div>
            `).join('');
        }

    function removeMovieFromWatchlist(movieId) {
        let watchlist = JSON.parse(localStorage.getItem("watchlist")) || [];
        watchlist = watchlist.filter(movie => movie.id !== movieId);
        localStorage.setItem("watchlist", JSON.stringify(watchlist));
        displayWatchlist(); // Update the watchlist display
        alert("Movie removed from your watchlist!");
    }
</script>

</body>
</html>
